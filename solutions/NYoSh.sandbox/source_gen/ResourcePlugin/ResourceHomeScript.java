package ResourcePlugin;

/*Generated by MPS */

import java.util.Set;
import java.util.HashSet;
import org.campagnelab.nyosh.logging.Log4JInitializer;
import org.campagnelab.nyosh.environment.parsers.Parser;
import org.campagnelab.nyosh.environment.parsers.JVMEnvParser;
import java.util.SortedSet;
import org.campagnelab.nyosh.environment.parsers.ScriptVariable;
import org.campagnelab.nyosh.environment.parsers.GobyWebParser;
import org.campagnelab.nyosh.environment.NYoShRuntimeEnvironment;

public class ResourceHomeScript {
  private static Set<String> exportedVariables = new HashSet<String>();


  public static void main(String[] arguments) {
    if (arguments.length == 0) {
      arguments = new String[]{"main"};
    }
    Log4JInitializer.init();
    // BEFORE_ENTRY_POINT_EXECUTION 

    if ("plugin_install_artifact".equals(arguments[0])) {

      if (arguments.length == 3) {
        plugin_install_artifact(arguments[1], arguments[2]);
      } else {
        System.err.println("Invalid number of arguments");
      }
      finish();
      System.exit(0);
    }
    if ("get_attribute_values".equals(arguments[0])) {

      if (arguments.length == 1) {
        get_attribute_values();
      } else {
        System.err.println("Invalid number of arguments");
      }
      finish();
      System.exit(0);
    }
    System.err.printf("The entry point %s name was not recognized", arguments[0]);
    finish();
    System.exit(1);
  }

  public static void plugin_install_artifact(String id, String installation_path) {
    Parser parser_w8kmuk_a0a3 = new JVMEnvParser();
    SortedSet<ScriptVariable> variables_w8kmuk_a0a3 = parser_w8kmuk_a0a3.parseAtRunTime();
    Parser parser_w8kmuk_b0d = new GobyWebParser();
    SortedSet<ScriptVariable> variables_w8kmuk_b0d = parser_w8kmuk_b0d.parseAtRunTime();

    String home = NYoShRuntimeEnvironment.getEnvironment().getVariableValue("HOME");
    System.out.println("Home is: " + home);
    String resource = NYoShRuntimeEnvironment.getEnvironment().getVariableValue("RESOURCES_ARTIFACTS_ENSEMBL_ANNOTATIONS_ANNOTATIONS_ENSEMBL_VERSION_NUMBER");
    System.out.println("Run dowloaded is located at " + resource);
    System.out.println("Artifact to install: " + id);
    System.out.println("Installation path: " + installation_path);
  }

  public static void get_attribute_values() {
    Parser parser_w8kmuk_a0a4 = new JVMEnvParser();
    SortedSet<ScriptVariable> variables_w8kmuk_a0a4 = parser_w8kmuk_a0a4.parseAtRunTime();
    Parser parser_w8kmuk_b0e = new GobyWebParser();
    SortedSet<ScriptVariable> variables_w8kmuk_b0e = parser_w8kmuk_b0e.parseAtRunTime();


  }

  public static void finish() {
  }
}
